{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { auth, createUserProfileDocument } from \"./firebase.utils\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { onSnapshot } from \"firebase/firestore\";\nexport const useGoogleUser = () => {\n  _s();\n\n  const [currentUser, setCurrentUser] = useState({});\n  useEffect(() => {\n    const unsubscribeFromAuth = onAuthStateChanged(auth, async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        onSnapshot(userRef, snapshot => {\n          setCurrentUser({\n            currentUser: {\n              id: snapshot.id,\n              ...snapshot.data()\n            }\n          });\n        });\n      } else setCurrentUser({\n        currentUser: userAuth\n      });\n    });\n    return () => {\n      unsubscribeFromAuth();\n    };\n  }, []);\n  return currentUser;\n};\n\n_s(useGoogleUser, \"ia0l58pIwzCriyxaeyhKjUQd3Xo=\");","map":{"version":3,"sources":["/Users/mert/Desktop/Side Projects/ecommerce-app/src/firebase/custom-hooks.js"],"names":["useState","useEffect","auth","createUserProfileDocument","onAuthStateChanged","onSnapshot","useGoogleUser","currentUser","setCurrentUser","unsubscribeFromAuth","userAuth","userRef","snapshot","id","data"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,yBAAf,QAAgD,kBAAhD;AACA,SAASC,kBAAT,QAAmC,eAAnC;AACA,SAASC,UAAT,QAA2B,oBAA3B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAAA;;AACjC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,EAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,mBAAmB,GAAGL,kBAAkB,CAACF,IAAD,EAAO,MAAOQ,QAAP,IAAoB;AACvE,UAAIA,QAAJ,EAAc;AACZ,cAAMC,OAAO,GAAG,MAAMR,yBAAyB,CAACO,QAAD,CAA/C;AAEAL,QAAAA,UAAU,CAACM,OAAD,EAAWC,QAAD,IAAc;AAChCJ,UAAAA,cAAc,CAAC;AACbD,YAAAA,WAAW,EAAE;AACXM,cAAAA,EAAE,EAAED,QAAQ,CAACC,EADF;AAEX,iBAAGD,QAAQ,CAACE,IAAT;AAFQ;AADA,WAAD,CAAd;AAMD,SAPS,CAAV;AAQD,OAXD,MAYEN,cAAc,CAAC;AACbD,QAAAA,WAAW,EAAEG;AADA,OAAD,CAAd;AAGH,KAhB6C,CAA9C;AAkBA,WAAO,MAAM;AACXD,MAAAA,mBAAmB;AACpB,KAFD;AAGD,GAtBQ,EAsBN,EAtBM,CAAT;AAwBA,SAAOF,WAAP;AACD,CA5BM;;GAAMD,a","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { auth, createUserProfileDocument } from \"./firebase.utils\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { onSnapshot } from \"firebase/firestore\";\n\nexport const useGoogleUser = () => {\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    const unsubscribeFromAuth = onAuthStateChanged(auth, async (userAuth) => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n\n        onSnapshot(userRef, (snapshot) => {\n          setCurrentUser({\n            currentUser: {\n              id: snapshot.id,\n              ...snapshot.data(),\n            },\n          });\n        });\n      } else\n        setCurrentUser({\n          currentUser: userAuth,\n        });\n    });\n\n    return () => {\n      unsubscribeFromAuth();\n    };\n  }, []);\n\n  return currentUser;\n};\n"]},"metadata":{},"sourceType":"module"}